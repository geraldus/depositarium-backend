(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"30jn":function(e,a,t){"use strict";t.r(a);t("jCWc");var r=t("kPKH"),n=(t("14J3"),t("BMrR")),l=t("q1tI"),c=t.n(l),u=(t("7Kak"),t("9yH6")),s=(t("tU7J"),t("wFql")),i=Object.freeze({value:0,currency:"$"}),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return c.a.createElement(s["a"].Title,null,e.value,c.a.createElement(s["a"].Text,null,c.a.createElement("small",null,e.currency)))},o=t("LLXN"),v=Object.freeze({value:0,currency:"",state:{visible:!1}}),d=Object.freeze({visible:!1});class p extends c.a.Component{constructor(){super(...arguments),this.state=d,this.showDrawer=(()=>{this.setState({visible:!0})}),this.onClose=(()=>{this.setState({visible:!1})})}render(){var e=this.props,a=e.value,t=e.currency;return c.a.createElement(c.a.Fragment,null,c.a.createElement(n["a"],{type:"flex",justify:"space-between",align:"middle"},c.a.createElement(r["a"],{xs:24,md:14},c.a.createElement(m,{value:a,currency:t})),c.a.createElement(r["a"],{md:10},c.a.createElement(u["a"].Group,{value:"small"},c.a.createElement(u["a"].Button,{value:"deposit",onClick:this.showDrawer},Object(o["formatMessage"])({id:"general.depositIn"})),c.a.createElement(u["a"].Button,{value:"withdrawal",onClick:this.showDrawer},Object(o["formatMessage"])({id:"general.withdrawal"}))))))}}p.defaultProps=v;var h=s["a"].Title,E=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,{level:2},Object(o["formatMessage"])({id:"general.history"})))},f=s["a"].Title,g=s["a"].Text,b=Object.freeze({value:0});class w extends c.a.Component{render(){var e=this.props;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{level:4},"+",e.value),c.a.createElement(g,null,e.children))}}w.defaultProps=b;var x=t("wd/R"),y=t.n(x),j=(e,a)=>{return y()(e).format(a)},O=Object.freeze({value:0,date:0}),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return c.a.createElement(w,{value:e.value},Object(o["formatMessage"])({id:"general.startDate"})," ",j(e.date,"Do MMMM YYYY"))},D=Object.freeze({value:0,date:0,nextAccountingDate:0}),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return c.a.createElement(w,{value:e.value},Object(o["formatMessage"])({id:"general.nextAccountingIn"})," ",y()(e.date).to(e.nextAccountingDate))},F=(t("bZMm"),t("LvDl")),A=t.n(F),T=.21,q=1.25,C=864e5,k=30*C,H={balance:{rur:{value:0,date:y()().valueOf(),para:0,nextDate:0},pzm:{value:0,date:y()().valueOf(),para:0}},requestAnimationFrameH:-1,test:""};class B extends c.a.Component{constructor(){super(...arguments),this.state=H}paramine(e){var a=requestAnimationFrame(e=>this.paramine(e));this.setState(e=>{var t=e.balance,r=t.pzm,n=t.rur,l=r.value,c=n.value,u=y()(),s=u.valueOf()-r.date,i=u.valueOf()-n.date,m=Math.floor(i/(10*C)),o=y()().add(m+1,"days");return A.a.merge({},e,{balance:{pzm:{para:(l*Math.pow(q,s/k)-l).toFixed(14)},rur:{para:c*T/3*m,nextDate:o.valueOf()}},requestAnimationFrameH:a})})}componentDidMount(){setTimeout(()=>{fetch("/api/operator/profile").then(e=>e.json()).then(e=>{var a=requestAnimationFrame(e=>this.paramine(e));this.setState(t=>A.a.merge({},t,e,{requestAnimationFrameH:a}))}).catch(e=>{console.error("Balance request error",e)})},0)}componentWillUnmount(){var e=this.state.requestAnimationFrameH;-1!==e&&cancelAnimationFrame(e)}render(){this.props;var e=this.state,a=e.balance,t=new Date;return t.setTime(a.pzm.date),c.a.createElement(n["a"],{type:"flex",justify:"center"},c.a.createElement(r["a"],{xs:22,md:11},c.a.createElement(n["a"],{style:{marginTop:24},gutter:24},c.a.createElement(r["a"],null,c.a.createElement(p,{value:a.pzm.value,currency:"PZM"})),c.a.createElement(r["a"],null,c.a.createElement(M,{value:a.pzm.para,date:a.pzm.date})))),c.a.createElement(r["a"],{xs:22,md:11},c.a.createElement(n["a"],{style:{marginTop:24}},c.a.createElement(r["a"],null,c.a.createElement(p,{value:a.rur.value,currency:"\u20bd"})),c.a.createElement(r["a"],null,c.a.createElement(z,{value:a.rur.para,date:a.rur.date,nextAccountingDate:a.rur.nextDate}))),c.a.createElement(n["a"],{style:{marginTop:40}},c.a.createElement(r["a"],null,c.a.createElement(E,null)))))}}a["default"]=B}}]);